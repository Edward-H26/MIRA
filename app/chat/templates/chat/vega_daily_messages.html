{% extends "base.html" %}
{% load static %}
{% block title %}Daily Messages (Vega-Lite){% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'chat/analytics.css' %}?v={% now 'U' %}">
{% endblock %}

{% block content %}
<div class="analytics-shell" data-collapsed-offset="sidebar">
    <h1 class="analytics-title">Daily Messages (Vega-Lite)</h1>
    <div class="analytics-chart-section">
        <div id="vis"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
<script>
    const specUrl = "{% static 'chat/vega_specs/vega_daily_messages_line.json' %}";
    vegaEmbed("#vis", specUrl, {actions: true});
</script>
{% endblock %}
