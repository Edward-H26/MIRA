{% extends "base.html" %}
{% load static %}
{% block title %}Account Settings{% endblock %}

{% block content %}
<div class="profile-shell">
  <div class="profile-content">
    <h1 class="font-instrument text-[44px] leading-[48px] tracking-[-0.66px] text-[#1b1b1b] mb-8">Account settings</h1>

    <div class="flex items-center gap-4 mb-8">
      <div class="w-20 h-20 rounded-full overflow-hidden bg-bg-dark flex items-center justify-center">
        {% if profile.profile_img %}
          <img src="{{ profile.profile_img.url }}" alt="Profile avatar" class="w-full h-full object-cover">
        {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" width="78" height="78" viewBox="0 0 78 78" fill="none" class="block">
            <circle cx="39" cy="39" r="39" fill="#282828"/>
            <g transform="translate(27 27)">
              <path d="M5.75 6.75H5.89445C6.89751 6.75 7.8342 6.2487 8.3906 5.4141L8.6094 5.0859C9.1658 4.2513 10.1025 3.75 11.1056 3.75H12.8944C13.8975 3.75 14.8342 4.2513 15.3906 5.0859L15.6094 5.4141C16.1658 6.2487 17.1025 6.75 18.1056 6.75H18.25C19.9069 6.75 21.25 8.09315 21.25 9.75V17.25C21.25 18.9069 19.9069 20.25 18.25 20.25H5.75C4.09315 20.25 2.75 18.9069 2.75 17.25L2.75 9.75C2.75 8.09315 4.09315 6.75 5.75 6.75Z" stroke="#FDFDFD" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="round"/>
              <path d="M15.25 13C15.25 14.7949 13.7949 16.25 12 16.25C10.2051 16.25 8.75 14.7949 8.75 13C8.75 11.2051 10.2051 9.75 12 9.75C13.7949 9.75 15.25 11.2051 15.25 13Z" stroke="#FDFDFD" stroke-width="1.5" stroke-linecap="square" stroke-linejoin="round"/>
            </g>
          </svg>
        {% endif %}
      </div>
      <p class="text-[13px] leading-[16px] text-[#727272]">Update your avatar using the form below.</p>
    </div>

    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      {% if success %}
        <p class="mb-6 text-sm text-[#1b1b1b]">Your profile has been updated.</p>
      {% endif %}
      <section class="section-card">
        <h2 class="font-instrument text-[28px] leading-[34px] text-[#1b1b1b]">Account Information</h2>
        <div class="mt-5 two-col">
          <div class="field">
            <label class="label" for="username">User name</label>
            <input id="username" name="username" type="text" value="{{ username }}" readonly class="input-ghost w-full px-4 text-sm text-[#1b1b1b]">
          </div>
          <div class="field">
            <label class="label" for="email">Email</label>
            <input id="email" name="email" type="email" value="{{ email }}" class="input-ghost light w-full px-4 text-sm text-[#1b1b1b]">
          </div>
        </div>
        <div class="mt-5 two-col">
          <div class="field">
            <label class="label" for="profile_img">Profile image</label>
            <input id="profile_img" name="profile_img" type="file" accept="image/*" class="w-full text-sm text-[#1b1b1b]">
          </div>
        </div>
        <button type="submit" class="btn-pill mt-6">Save changes</button>
      </section>
    </form>

    <section class="section-card">
      <h2 class="font-instrument text-[28px] leading-[34px] text-[#1b1b1b]">Security</h2>
      <div class="mt-5 space-y-6">
        <div class="two-col" style="align-items: flex-end;">
          <div class="field">
            <label class="label">Password</label>
            <div class="input-outline">
              <span class="text-[#a3a3a3] tracking-[0.35em] text-sm select-none">************</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-[#727272]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12s3.75-6.75 9.75-6.75S21.75 12 21.75 12 18 18.75 12 18.75 2.25 12 2.25 12Z"/>
                <circle cx="12" cy="12" r="2.75"/>
              </svg>
            </div>
          </div>
          <button class="btn-pill" type="button">Change your password</button>
        </div>
        <div class="two-col" style="align-items: flex-end;">
          <div class="field">
            <label class="label">Email</label>
            <div class="input-outline"></div>
          </div>
          <button class="btn-pill" type="button">Change your Email adress</button>
        </div>
      </div>
    </section>

    <section class="section-card">
      <h2 class="font-instrument text-[28px] leading-[34px] text-[#1b1b1b]">Subscription Overview</h2>

      <div class="hero mt-6">
        <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6">
          <div>
            <h3 class="font-instrument text-[44px] leading-[48px] text-[#1b1b1b]">Active your Pro plan!</h3>
            <p class="mt-2 text-[14px] leading-[20px] text-[#000] max-w-[413px]">
              Unlimited generations, priority GPU access, and early access to our future premium model.
            </p>
          </div>
          <div class="text-right">
            <p class="font-instrument text-[44px] leading-[48px] text-[#000]">Only $5<span class="text-[14px] leading-[20px] font-medium">/month</span></p>
            <button class="btn-pill mt-4" type="button">Manage subscription</button>
          </div>
        </div>
      </div>

      <div class="stats-grid mt-6">
        <div class="stat-card">
          <p class="stat-title">Token used</p>
          <p class="stat-value">0.6M/1M</p>
          <div class="progress-track"><div class="progress-bar" style="width: 66%;"></div></div>
        </div>
        <div class="stat-card">
          <p class="stat-title">Memory generated</p>
          <p class="stat-value">133/150</p>
          <div class="progress-track"><div class="progress-bar" style="width: 85%;"></div></div>
        </div>
        <div class="stat-card">
          <p class="stat-title">Image generated</p>
          <p class="stat-value">30/150</p>
          <div class="progress-track"><div class="progress-bar" style="width: 22%;"></div></div>
        </div>
      </div>
    </section>
  </div>
</div>
{% endblock %}